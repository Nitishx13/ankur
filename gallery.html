<!DOCTYPE html>
<html lang="en">
<head>
    <!-- WCAG/GIGW Compliance: Set language and viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Events and Media</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Icon Libraries (Phosphor Icons for modern look) -->
    <script src="https://unpkg.com/phosphor-icons"></script>
    
    <!-- Custom Configuration and Styles -->
    <style>
        /* FONT IMPORT & ROOT VARIABLES */
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');
        
        :root {
            --color-primary: #429255;
            --color-menu-text: #3E437D;
            --font-size-body: 16px;
            --font-size-menu: 16px;
        }

        body {
            font-family: 'Roboto', sans-serif;
            font-size: var(--font-size-body); /* 16px base font size */
            color: #333;
        }

        /* Default H-tags inherit from body, using responsive Tailwind classes overrides this */
        h1, h2, h3 {
            font-weight: 700;
        }
        
        /* Custom utility for menu text color and size */
        .menu-text-style {
            color: var(--color-menu-text);
            font-size: var(--font-size-menu); /* 16px */
            font-weight: 500;
        }
        
        /* Custom utility for primary button background */
        .btn-primary {
            background-color: var(--color-primary);
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #387c4a; /* Slightly darker green on hover */
        }

        /* Off-canvas menu transition */
        .drawer-transition {
            transition: transform 0.3s ease-out;
        }

        /* --- DESKTOP Dropdown Visibility (Hover/Focus-Within) --- */
        .dropdown-desktop:hover .dropdown-menu,
        .dropdown-desktop:focus-within .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .sub-dropdown-desktop:hover .sub-dropdown-menu,
        .sub-dropdown-desktop:focus-within .sub-dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        
        /* --- MOBILE Dropdown Styling --- */
        .dropdown-mobile-content {
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.3s ease-out;
        }
        .dropdown-mobile-content.open {
            max-height: 500px; /* Large enough to accommodate content */
        }
        .dropdown-mobile-toggle i {
            transition: transform 0.3s ease-out;
        }
        .dropdown-mobile-toggle.open i {
            transform: rotate(180deg);
        }

    </style>

    <!-- Tailwind Config for custom colors and screen breakpoints -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-action': '#429255',
                        'menu-text': '#3E437D',
                        'footer-bg': '#2E354F',
                        'hero-bg': '#F4FFF4',
                    },
                    screens: {
                        'lg': '1024px', /* Specific breakpoint for desktop menu */
                    }
                }
            }
        }
    </script>
</head>
<body class="overflow-x-hidden antialiased">

     <!-- Header & Desktop Navigation (LG and up) -->
    <header class="sticky top-0 z-40 bg-white shadow-md border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <a href="#" class="text-3xl font-bold text-primary-action" aria-label="Explore Home">
                   <img src="./assets/img/logo.png" alt="" srcset="" width="150" height="50"/>
                </a>

                <!-- Desktop Menu (Hidden on mobile/tablet) -->
                <nav class="hidden lg:flex items-center lg:space-x-8" aria-label="Main Navigation">
                    <a href="index.html" class="menu-text-style text-primary-action font-bold transition duration-150" role="menuitem">Home</a>
                    <a href="service.html" class="menu-text-style hover:text-primary-action transition duration-150" role="menuitem">Services</a>
                    <a href="product.html" class="menu-text-style hover:text-primary-action transition duration-150" role="menuitem">Products</a>
                    
                    <!-- Services Dropdown (Desktop) -->
                    <!-- <div class="relative dropdown-desktop">
                        <button class="menu-text-style flex items-center hover:text-primary-action transition duration-150 py-2" aria-expanded="false" aria-controls="services-menu" aria-haspopup="true">
                            Services <i class="ph ph-caret-down ml-1 text-base"></i>
                        </button>
                        <div id="services-menu" class="dropdown-menu absolute left-0 mt-0 w-48 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible transition duration-300 transform scale-95 origin-top-left z-50" role="menu">
                            <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Consulting</a>
                            <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Development</a>
                            <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Design</a>
                        </div>
                    </div> -->

                    <!-- Products Dropdown (Desktop) -->
                    <!-- <div class="relative dropdown-desktop">
                        <button class="menu-text-style flex items-center hover:text-primary-action transition duration-150 py-2" aria-expanded="false" aria-controls="products-menu" aria-haspopup="true">
                            Products <i class="ph ph-caret-down ml-1 text-base"></i>
                        </button>
                        <div id="products-menu" class="dropdown-menu absolute left-0 mt-0 w-48 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible transition duration-300 transform scale-95 origin-top-left z-50" role="menu">
                            <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Category A</a>
                            <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Category B</a>
                             -->
                            <!-- Nested Sub-Dropdown (Desktop) -->
                            <!-- <div class="relative sub-dropdown-desktop">
                                <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100 flex justify-between items-center" role="menuitem" aria-expanded="false" aria-haspopup="true">
                                    More <i class="ph ph-caret-right ml-2 text-xs"></i>
                                </a>
                                <div class="sub-dropdown-menu absolute left-full top-0 w-48 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible transition duration-300 transform scale-95 origin-top-left z-50" role="menu">
                                     <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Sub Item 1</a>
                                     <a href="#" class="block px-4 py-2 text-sm text-menu-text hover:bg-gray-100" role="menuitem">Sub Item 2</a>
                                </div>
                            </div>
                        </div>
                    </div> -->

                    <a href="aboutus.html" class="menu-text-style hover:text-primary-action transition duration-150" role="menuitem">About</a>
                    <a href="contactus.html" class="menu-text-style hover:text-primary-action transition duration-150" role="menuitem">Contact Us</a>
                </nav>

                <!-- Hamburger Icon (Visible on mobile/tablet) -->
                <button id="menu-toggle" class="lg:hidden text-menu-text focus:outline-none" aria-label="Toggle navigation menu" aria-controls="mobile-drawer" aria-expanded="false">
                    <i class="ph ph-list text-3xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Off-Canvas Drawer Menu -->
    <div id="mobile-drawer" class="fixed top-0 right-0 h-full w-64 bg-white shadow-2xl z-50 drawer-transition transform translate-x-full lg:hidden" role="dialog" aria-modal="true" aria-label="Mobile Navigation">
        <div class="p-4 flex justify-end">
            <button id="close-drawer" class="text-menu-text focus:outline-none" aria-label="Close navigation menu">
                <i class="ph ph-x text-2xl"></i>
            </button>
        </div>
        <nav class="flex flex-col space-y-2 p-4" role="navigation">
            <a href="index.html" class="menu-text-style text-primary-action transition duration-150 py-2 border-b border-gray-100">Home</a>
            <a href="service.html" class="menu-text-style hover:text-primary-action transition duration-150 py-2 border-b border-gray-100">Services</a>
            <a href="product.html" class="menu-text-style hover:text-primary-action transition duration-150 py-2 border-b border-gray-100">Products</a>
            <a href="aboutus.html" class="menu-text-style hover:text-primary-action transition duration-150 py-2 border-b border-gray-100">About</a>
            <a href="contactus.html" class="menu-text-style hover:text-primary-action transition duration-150 py-2">Contact Us</a>
        </nav>
    </div>
    <!-- Overlay for the drawer menu -->
    <div id="drawer-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" aria-hidden="true"></div>

    <main role="main">
        <!-- Gallery Header -->
        <section class="bg-hero-bg py-16 sm:py-20" aria-labelledby="gallery-heading">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 id="gallery-heading" class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-menu-text leading-tight inline-block border-b-4 border-primary-action/50 pb-2">
                    GALLERY
                </h1>
                <p class="text-xl text-gray-700 mt-4 max-w-3xl mx-auto">
                    A visual journey through our key milestones, internal events, and media presence.
                </p>
            </div>
        </section>

        <!-- Events Section -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24" aria-labelledby="events-heading">
            <h2 id="events-heading" class="text-3xl sm:text-4xl font-bold text-menu-text mb-12 inline-block border-b-2 border-primary-action/50 pb-1">
                Events
            </h2>
            
            <!-- Events Grid: Responsive layout for showcasing key event photos -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- Event Item 1 -->
                <div class="rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]">
                    <img src="https://placehold.co/600x400/429255/FFFFFF?text=Company+Event+A" 
                         alt="Image of the annual company kick-off meeting" 
                         class="w-full h-auto object-cover aspect-[3/2]" 
                         onerror="this.onerror=null; this.src='https://placehold.co/600x400/429255/FFFFFF?text=Company+Event+A'">
                    <div class="p-4 bg-white">
                        <h3 class="text-xl font-semibold text-menu-text">Annual Kick-off Meeting 2025</h3>
                        <p class="text-sm text-gray-500">March 15, 2025 - New Delhi Office</p>
                    </div>
                </div>

                <!-- Event Item 2 -->
                <div class="rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]">
                    <img src="https://placehold.co/600x400/3E437D/FFFFFF?text=Team+Workshop" 
                         alt="Image of a team collaborating during a workshop" 
                         class="w-full h-auto object-cover aspect-[3/2]"
                         onerror="this.onerror=null; this.src='https://placehold.co/600x400/3E437D/FFFFFF?text=Team+Workshop'">
                    <div class="p-4 bg-white">
                        <h3 class="text-xl font-semibold text-menu-text">Tech Innovation Workshop</h3>
                        <p class="text-sm text-gray-500">May 20, 2025 - Remote & Hybrid Teams</p>
                    </div>
                </div>

                <!-- Event Item 3 -->
                <div class="rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]">
                    <img src="https://placehold.co/600x400/429255/FFFFFF?text=CSR+Activity" 
                         alt="Image of the team participating in a CSR activity" 
                         class="w-full h-auto object-cover aspect-[3/2]"
                         onerror="this.onerror=null; this.src='https://placehold.co/600x400/429255/FFFFFF?text=CSR+Activity'">
                    <div class="p-4 bg-white">
                        <h3 class="text-xl font-semibold text-menu-text">Community Service Day</h3>
                        <p class="text-sm text-gray-500">July 4, 2025 - Local Park Clean-up</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Media Section (Image Gallery) -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 bg-gray-50 rounded-lg" aria-labelledby="media-heading">
            <h2 id="media-heading" class="text-3xl sm:text-4xl font-bold text-menu-text mb-12 inline-block border-b-2 border-primary-action/50 pb-1">
                Media & Press Gallery
            </h2>

            <!-- Image Grid: Responsive 2, 3, or 4 columns based on screen size -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6">
                
                <!-- Gallery Item 1 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/6B7280/FFFFFF?text=Media+Gallery+1" tabindex="0" role="button" aria-label="View media image 1 in full screen">
                    <img src="https://placehold.co/400x300/6B7280/FFFFFF?text=Media+Gallery+1" 
                         alt="Media coverage thumbnail 1" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/6B7280/FFFFFF?text=Media+Gallery+1'">
                </div>
                
                <!-- Gallery Item 2 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/3E437D/FFFFFF?text=Media+Gallery+2" tabindex="0" role="button" aria-label="View media image 2 in full screen">
                    <img src="https://placehold.co/400x300/3E437D/FFFFFF?text=Media+Gallery+2" 
                         alt="Media coverage thumbnail 2" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/3E437D/FFFFFF?text=Media+Gallery+2'">
                </div>

                <!-- Gallery Item 3 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/429255/FFFFFF?text=Media+Gallery+3" tabindex="0" role="button" aria-label="View media image 3 in full screen">
                    <img src="https://placehold.co/400x300/429255/FFFFFF?text=Media+Gallery+3" 
                         alt="Media coverage thumbnail 3" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/429255/FFFFFF?text=Media+Gallery+3'">
                </div>

                <!-- Gallery Item 4 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/3E437D/FFFFFF?text=Media+Gallery+4" tabindex="0" role="button" aria-label="View media image 4 in full screen">
                    <img src="https://placehold.co/400x300/3E437D/FFFFFF?text=Media+Gallery+4" 
                         alt="Media coverage thumbnail 4" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/3E437D/FFFFFF?text=Media+Gallery+4'">
                </div>

                <!-- Gallery Item 5 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/429255/FFFFFF?text=Media+Gallery+5" tabindex="0" role="button" aria-label="View media image 5 in full screen">
                    <img src="https://placehold.co/400x300/429255/FFFFFF?text=Media+Gallery+5" 
                         alt="Media coverage thumbnail 5" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/429255/FFFFFF?text=Media+Gallery+5'">
                </div>
                
                <!-- Gallery Item 6 -->
                <div class="gallery-item cursor-pointer overflow-hidden rounded-lg shadow-md hover:shadow-xl transition duration-300 transform hover:scale-[1.03]" data-full-src="https://placehold.co/1200x800/6B7280/FFFFFF?text=Media+Gallery+6" tabindex="0" role="button" aria-label="View media image 6 in full screen">
                    <img src="https://placehold.co/400x300/6B7280/FFFFFF?text=Media+Gallery+6" 
                         alt="Media coverage thumbnail 6" 
                         class="w-full h-full object-cover aspect-[4/3] transition duration-300 hover:opacity-90"
                         onerror="this.onerror=null; this.src='https://placehold.co/400x300/6B7280/FFFFFF?text=Media+Gallery+6'">
                </div>
            </div>
        </section>

    </main>

    <!-- Image Full-View Modal -->
    <div id="image-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-90 transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="relative max-w-7xl w-11/12 lg:w-3/4 mx-auto p-4 sm:p-6 lg:p-8">
            <!-- Close Button -->
            <button id="modal-close" class="absolute -top-10 right-0 text-white hover:text-primary-action transition p-2 focus:outline-none focus:ring-2 focus:ring-primary-action rounded-full" aria-label="Close full screen image view">
                <i class="ph ph-x text-3xl"></i>
            </button>
            
            <!-- Image Container -->
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden max-h-[90vh] flex items-center justify-center">
                <img id="modal-image" src="" alt="Full size gallery image" class="w-full h-full object-contain">
            </div>

            <!-- Optional Title/Caption -->
            <div class="mt-4 text-center text-white">
                <p id="modal-caption" class="text-lg font-medium"></p>
            </div>
        </div>
    </div>
    <!-- End Image Full-View Modal -->

    <!-- Footer -->
    <footer class="bg-footer-bg text-white py-16" role="contentinfo">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-8">
                <!-- Col 1: Logo & Mission -->
                <div class="col-span-2 md:col-span-2 space-y-4">
                    <a href="#" class="text-3xl font-bold text-primary-action" aria-label="Explore Home">
                   <img src="./assets/img/logo.png" alt="" srcset="" width="150" height="50">
                </a>
                    <p class="text-sm text-gray-300">
                        Dedicated to providing clean, clear, and world-class solutions for a better tomorrow.
                    </p>
                    <div class="text-sm text-gray-400 mt-6 pt-4 border-t border-gray-700">
                        Â© 2025 Explore Co. All rights reserved.
                    </div>
                </div>

                <!-- Col 2: Quick Links -->
                <div class="space-y-3">
                    <h4 class="text-lg font-semibold mb-2">Company</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-primary-action transition">About Us</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Our Mission</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Careers</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Press</a></li>
                    </ul>
                </div>

                <!-- Col 3: Services -->
                <div class="space-y-3">
                    <h4 class="text-lg font-semibold mb-2">Services</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-primary-action transition">Consulting</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Development</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Design</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Marketing</a></li>
                    </ul>
                </div>

                <!-- Col 4: Resources & Social -->
                <div class="space-y-3">
                    <h4 class="text-lg font-semibold mb-2">Resources</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-primary-action transition">Blog</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">Support</a></li>
                        <li><a href="#" class="hover:text-primary-action transition">FAQs</a></li>
                    </ul>
                    <div class="flex space-x-4 pt-4">
                        <a href="#" aria-label="Follow us on Facebook" class="text-gray-400 hover:text-primary-action transition"><i class="ph ph-facebook-logo text-xl"></i></a>
                        <a href="#" aria-label="Follow us on Twitter" class="text-gray-400 hover:text-primary-action transition"><i class="ph ph-twitter-logo text-xl"></i></a>
                        <a href="#" aria-label="Follow us on Instagram" class="text-gray-400 hover:text-primary-action transition"><i class="ph ph-instagram-logo text-xl"></i></a>
                        <a href="#" aria-label="Connect on LinkedIn" class="text-gray-400 hover:text-primary-action transition"><i class="ph ph-linkedin-logo text-xl"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // =========================================================
        // MOBILE DRAWER MENU LOGIC (GIGW/WCAG Compliant)
        // =========================================================
        const menuToggle = document.getElementById('menu-toggle');
        const closeDrawer = document.getElementById('close-drawer');
        const mobileDrawer = document.getElementById('mobile-drawer');
        const drawerOverlay = document.getElementById('drawer-overlay');

        // Mobile Dropdown elements
        const serviceToggle = document.getElementById('service-mobile-toggle');
        const serviceContent = document.getElementById('service-mobile-content');
        const productToggle = document.getElementById('product-mobile-toggle');
        const productContent = document.getElementById('product-mobile-content');

        // State for mobile menus
        let isServiceOpen = false;
        let isProductOpen = false;


        function toggleDrawer(open) {
            if (open) {
                mobileDrawer.classList.remove('translate-x-full');
                mobileDrawer.classList.add('translate-x-0');
                drawerOverlay.classList.remove('hidden');
                menuToggle.setAttribute('aria-expanded', 'true');
                document.body.style.overflow = 'hidden'; // Prevent scrolling background
            } else {
                mobileDrawer.classList.remove('translate-x-0');
                mobileDrawer.classList.add('translate-x-full');
                drawerOverlay.classList.add('hidden');
                menuToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
                
                // Ensure mobile dropdowns close when main menu closes
                if (isServiceOpen) toggleMobileDropdown(serviceToggle, serviceContent, 'service');
                if (isProductOpen) toggleMobileDropdown(productToggle, productContent, 'product');
            }
        }
        
        function toggleMobileDropdown(button, content, type) {
            let isOpen;
            
            // Determine which state to toggle
            if (type === 'service') {
                isServiceOpen = !isServiceOpen;
                isOpen = isServiceOpen;
                if (isProductOpen) toggleMobileDropdown(productToggle, productContent, 'product'); // Close other
            } else if (type === 'product') {
                isProductOpen = !isProductOpen;
                isOpen = isProductOpen;
                if (isServiceOpen) toggleMobileDropdown(serviceToggle, serviceContent, 'service'); // Close other
            }

            if (isOpen) {
                content.classList.add('open');
                button.classList.add('open');
            } else {
                content.classList.remove('open');
                button.classList.remove('open');
            }
        }


        // Event Listeners for main drawer
        menuToggle.addEventListener('click', () => toggleDrawer(true));
        closeDrawer.addEventListener('click', () => toggleDrawer(false));
        drawerOverlay.addEventListener('click', () => toggleDrawer(false));
        
        // Event Listeners for mobile dropdowns
        serviceToggle.addEventListener('click', () => toggleMobileDropdown(serviceToggle, serviceContent, 'service'));
        productToggle.addEventListener('click', () => toggleMobileDropdown(productToggle, productContent, 'product'));


        // Close on Escape key (WCAG requirement)
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && !mobileDrawer.classList.contains('translate-x-full')) {
                toggleDrawer(false);
            }
        });


        // =========================================================
        // FULL-VIEW MODAL LOGIC
        // =========================================================
        const imageModal = document.getElementById('image-modal');
        const modalImage = document.getElementById('modal-image');
        const modalClose = document.getElementById('modal-close');
        const galleryItems = document.querySelectorAll('.gallery-item');

        function openModal(src, alt) {
            modalImage.src = src;
            modalImage.alt = alt;
            imageModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling background
            imageModal.focus(); // Focus modal for accessibility
        }

        function closeModal() {
            imageModal.classList.add('hidden');
            modalImage.src = ""; // Clear image source
            document.body.style.overflow = '';
        }

        // Add click listeners to all gallery items
        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                const fullSrc = item.getAttribute('data-full-src');
                const altText = item.getAttribute('aria-label').replace('View media image', 'Full screen media image');
                openModal(fullSrc, altText);
            });
            
            // Allow opening with Enter key for accessibility
            item.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault(); // Prevent default scroll for space bar
                    const fullSrc = item.getAttribute('data-full-src');
                    const altText = item.getAttribute('aria-label').replace('View media image', 'Full screen media image');
                    openModal(fullSrc, altText);
                }
            });
        });

        // Add close listeners
        modalClose.addEventListener('click', closeModal);
        imageModal.addEventListener('click', (e) => {
            // Close if clicking the backdrop, but not the image itself
            if (e.target === imageModal) {
                closeModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && !imageModal.classList.contains('hidden')) {
                closeModal();
            }
        });
        
    </script>
</body>
</html>